¬°Perfecto! Te muestro c√≥mo hacer que el formulario (nombre del mapa y correo) se oculte autom√°ticamente despu√©s de guardar exitosamente, y tambi√©n c√≥mo validarlo antes de guardar.

---

### ‚úÖ **1. HTML del formulario**

Primero, aseg√∫rate de tener un `div` para envolver los inputs y el bot√≥n, como este:

```html
<div id="formularioMapa">
  <input type="text" id="nombreMapa" placeholder="Nombre del mapa mental">
  <input type="email" id="correoUsuario" placeholder="Correo del usuario">
  <button id="btnGuardar">Guardar Mapa Mental</button>
</div>
```

---

### ‚úÖ **2. JavaScript mejorado con validaci√≥n y ocultamiento**

```js
const formulario = document.getElementById('formularioMapa');
const inputNombre = document.getElementById('nombreMapa');
const inputCorreo = document.getElementById('correoUsuario');

async function guardarEnSupabase(xml) {
  const nombre = inputNombre.value.trim();
  const correo = inputCorreo.value.trim();

  if (!nombre || !correo || !xml) {
    alert("‚ö†Ô∏è Por favor completa todos los campos antes de guardar.");
    return;
  }

  const { data, error } = await supabaseClient.from('mapas_mentales').insert([
    {
      nombre,
      xml,
      correo_usuario: correo
    }
  ]);

  if (error) {
    console.error("‚ùå Error guardando en Supabase:", error);
    alert("Hubo un error al guardar el mapa. Int√©ntalo de nuevo.");
  } else {
    console.log("‚úÖ Mapa guardado con √©xito:", data);
    alert("¬°‚úÖ Mapa mental guardado correctamente!");

    // Oculta el formulario
    formulario.style.display = "none";

    // Limpia los campos
    inputNombre.value = "";
    inputCorreo.value = "";

    // Tambi√©n puedes ocultar el iframe si quieres:
    DRAWIO.style.display = "none";
    OPEN_DRAW.textContent = "+";
  }
}
```

---

### ‚úÖ 3. Bot√≥n guardar manual actualizado

```js
document.getElementById('btnGuardar').addEventListener('click', () => {
  iframe.contentWindow.postMessage(
    JSON.stringify({ action: 'export' }),
    '*'
  );
});
```

---

### üéÅ Opcional: Mostrar el formulario al abrir Draw\.io

Si quieres que el formulario se muestre solo cuando se abre el editor:

```js
OPEN_DRAW.addEventListener("click", function () {
  const abierto = DRAWIO.style.display === "flex";

  DRAWIO.style.display = abierto ? "none" : "flex";
  OPEN_DRAW.textContent = abierto ? "+" : "X";
  
  // Mostrar formulario solo si se abre el editor
  formulario.style.display = abierto ? "none" : "block";
});
```

---

¬øTe gustar√≠a que te ayude tambi√©n a mostrar los mapas guardados en una lista debajo, o incluso a volver a cargarlos en el editor?
